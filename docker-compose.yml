services:
  api:
    build: .
    ports:
      - "8000:8000"
    env_file:
      - .env
    environment:
      # Inside the container, the vault is always mounted here.
      - VAULT_PATH=/app/vault
    volumes:
      # Host vault path is read from `.env` (or defaults to ./vault).
      - ${VAULT_PATH:-./vault}:/app/vault
      - ${LLM_MODEL_HOST_PATH}:${LLM_MODEL_PATH}:ro
    restart: unless-stopped
